!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=1)}([function(e,t){var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"map",value:function(e){return e}},{key:"getModelName",value:function(){return this.constructor.name.replace(/^Insite(.*)Mapper$/,"$1")}}]),e}()},function(e,t,n){e.exports=n(2)},function(e,t,n){n(3)},function(e,t,n){n(4)},function(e,t,n){if(window.swiv&&window.swiv.gee){var r=n(5);window.swiv.gee.setMapperService(new r)}},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();e.exports=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=[n(6),n(7),n(8)];this.mappers={},r.forEach(function(e){var n=new e;t.mappers[n.getModelName()]=n})}return r(e,[{key:"map",value:function(e,t){var n=this.getDedicatedMapper(t.getMainDataType().name);return n&&t.setMainData(n.map(e)),t.getData()}},{key:"getDedicatedMapper",value:function(e){return this.mappers[e]||null}}]),e}()},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(0);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"map",value:function(e){return e}}]),t}()},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(0);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"map",value:function(e){return e}}]),t}()},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(0);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"map",value:function(e){var t=this,n=e.pagination?e.pagination.currentPage:1,r=e.pagination?e.pagination.pageSize:1;return(e.products||[e.product||e]).map(function(o,i){return t.mapOne(o,{position:(n-1)*r+i+1,list:t.getListContext(e),category:t.getCategory(o,e)})})}},{key:"mapOne",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={id:e.id,name:e.shortDescription,list:this.getListContext(),brand:e.properties.brand||"",category:e.properties.category||"",variant:e.name||e.shortDescription,position:1,price:e.pricing.unitListPrice};return Object.keys(t).forEach(function(e){n[e]=t[e]}),Object.keys(n).forEach(function(e){void 0===n[e]&&delete n[e]}),n.variant===n.name&&delete n.variant,0===n.price&&delete n.price,n}},{key:"getListContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.products?this.getListContextBySlug(e.originalQuery?"search":"list"):this.getListContextBySlug("detail")}},{key:"getCategory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.properties&&t.properties.category)return t.properties.category.shortDescription;var n=window.location.pathname.substr(1).replace(/-/g," ").split("/").map(function(e){return""+e.charAt(0).toUpperCase()+e.slice(1)}).join("/");return t.product&&(n=n.replace(/\/[^/]{1,}$/,"")),n}},{key:"getListContextBySlug",value:function(e){return{search:"Search Results",list:"List Page",detail:"Detail Page"}[e]||null}}]),t}()}]);